# 智慧公寓管理系统 - 开发规范

## 一、代码规范

### 1.1 命名规范
- **类名**: 大驼峰命名 (PascalCase)，如 `UserService`
- **方法名**: 小驼峰命名 (camelCase)，如 `getUserById`
- **变量名**: 小驼峰命名，如 `userName`
- **常量名**: 全大写+下划线，如 `MAX_COUNT`
- **包名**: 全小写，如 `org.smartapartment.smartapartment`

### 1.2 注释规范
```java
/**
 * 类注释：简要说明类的作用
 * @author 作者名
 * @since 版本号
 */
public class UserService {
    
    /**
     * 方法注释：说明方法功能、参数、返回值
     * @param userId 用户ID
     * @return 用户信息
     */
    public User getUserById(Long userId) {
        // 单行注释：解释关键逻辑
        return userMapper.selectById(userId);
    }
}
```

### 1.3 代码格式
- 缩进：4个空格
- 每行不超过120字符
- 方法之间空一行
- import语句分组排序

## 二、数据库规范

### 2.1 表设计规范
- 表名小写，多词用下划线分隔
- 必须包含主键 `id`
- 必须包含 `create_time` 和 `update_time`
- 逻辑删除使用 `deleted` 字段
- 添加适当的索引

### 2.2 字段规范
- 字段名小写，多词用下划线
- 避免使用保留字
- 使用NOT NULL + DEFAULT
- 金额字段使用DECIMAL
- 日期时间使用DATETIME

## 三、接口设计规范

### 3.1 RESTful API规范
- GET: 查询操作
- POST: 新增操作
- PUT: 更新操作
- DELETE: 删除操作

### 3.2 统一返回格式
```json
{
  "code": 200,
  "message": "操作成功",
  "data": {},
  "timestamp": 1700000000000
}
```

### 3.3 分页参数规范
- current: 当前页码（从1开始）
- size: 每页条数
- 返回total、records

## 四、Git提交规范

```
feat: 新功能
fix: 修复bug
docs: 文档更新
style: 代码格式调整
refactor: 重构
test: 测试相关
chore: 构建/工具链相关
```

## 五、安全规范

- 密码必须加密存储（BCrypt）
- 使用JWT进行身份认证
- 防止SQL注入（使用MyBatis-Plus）
- 敏感数据不打印日志
- 接口添加权限验证

## 六、性能优化规范

- 使用Redis缓存热点数据
- 数据库查询添加索引
- 避免N+1查询问题
- 大批量操作使用批处理
- 合理设置数据库连接池

---

遵循以上规范，可以保证代码质量和可维护性。
